---
layout: post
title: Rust学习实践（二） -- Demo项目：文件搜索工具
categories: Rust
tags: Rust
---

* content
{:toc}

Rust学习实践，进行Rust的“实战”（Demo）练习：文件搜索工具。



## 1. 背景

上篇过完了Rust的基础语法，接下来进行Rust的一个Demo练习。跟着几个参考项目，基于：[入门实战：文件搜索工具](https://course.rs/basic-practice/intro.html)。

虽然是一个练习项目，本篇尝试当作一个正式项目的基本流程进行管理迭代，包含：项目需求分析、项目结构设计、项目开发、项目测试、项目发布。

*说明：本博客作为个人学习实践笔记，可供参考但非系统教程，可能存在错误或遗漏，欢迎指正。若需系统学习，建议参考原链接。*

## 2. 项目需求分析

需求：构建一个简化版本的`grep`命令行程序，能够实现文件搜索功能。（客户需求比较模糊）

### 2.1. 需求包

对需求进行分析拆分，梳理需求包如下：

* 支持从命令行参数中读取指定的文件名和字符串（必须）
* 在相应的文件中找到包含该字符串的内容，最终打印出来（必须）
* DFX
    * 性能：搜索速度要快，内存占用要低，支持多线程（可选）
    * 易用性：命令行参数要简洁，支持通配符（可选）
    * 可测试性：代码要模块化，便于测试（必须）
    * 可维护性：支持CI持续集成，测试用例要覆盖所有功能（必须）
* 进阶需求：
    * 支持指定目录搜索（必须）
    * 支持通配符、正则表达式搜索（可选）

暂实现必须需求，后续根据需要再迭代实现。

### 2.2. 需求拆解

需求分解为任务项：

* 总体方案设计，Rust项目框架搭建（需前置完成）
* 命令行参数解析模块
    * 基本参数解析：文件名和字符串
    * 高级参数解析：支持`-i`忽略大小写，并支持`-r`目录递归搜索参数
* 文件搜索模块
    * 基于“基本参数”：遍历文件，找到包含字符串的文件，打印对应行号和内容
    * 基于“高级参数”：支持目录递归搜索，支持`-i`忽略大小写搜索
* 持续集成模块
    * CI脚本编写，支持自动构建、测试、发布

### 2.3. 迭代设计

**迭代安排：**

分2个迭代，第一个迭代完成总体设计和基本框架搭建，及基本功能实现；第二个迭代实现进阶需求。

**任务分配：**

上述需求和任务拆分后，可以根据实际情况进行任务分配。此处就自己一个人，自己完成所有任务（若有人力实际可并行）。

* 各特性完成自身任务并进行单元测试
* 模块集成后进行集成测试，通过后进行发测交付并进入下一个迭代

### 2.4. 方案设计



## 3. 小结


## 4. 参考

1、[入门实战：文件搜索工具](https://course.rs/basic-practice/intro.html)

